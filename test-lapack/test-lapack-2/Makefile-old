FLNAME = slvSysC
#  example1 testdgtsv slvSysC

TARGETS = $(FLNAME).out
OBJ = $(FLNAME).c

FC       = gfortran
CC       = gcc
CC_FLAGS   = -Wall
LAST_FLAGS = -lgfortran -lm

OPTS    = -O2 -frecursive
NOOPT   = -O0 -frecursive

#CBLAS_FLAGS	 = -I../lib-lapack/include -L../lib-lapack/lib -lcblas -lblas
COMMON_INC  =  -I./common ./common/blaio.c

CBLASLIB     = ../lib-lapack/lib/libcblas.a
TMGLIB       = ../lib-lapack/lib/libtmglib.a

BLASLIB      = ../lib-lapack/lib/librefblas.a
LAPACKLIB    = ../lib-lapack/lib/liblapack.a
LAPACKELIB   = ../lib-lapack/lib/liblapacke.a

LIBRARIES = -I../lib-lapack/include \
		$(LAPACKLIB) $(BLASLIB) $(TMGLIB)
		
# $(LAPACKELIB) $(LAPACKLIB) $(CBLASLIB) $(BLASLIB)

all : $(TARGETS)
	@echo Make Complete

$(TARGETS) : src/$(OBJ)
	$(CC) $(CC_FLAGS) src/$(OBJ) $(COMMON_INC) $(LIBRARIES) -o $(TARGETS) $(LAST_FLAGS)

run :
	./$(TARGETS)

clean :
	rm -rf *.out *~ *.o $(TARGETS)
