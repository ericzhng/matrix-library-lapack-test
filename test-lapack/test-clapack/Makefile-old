FLNAME = zgesv_example
#  example_DGELS_colmajor example_DGELS_rowmajor example_DGESV_colmajor example_DGESV_rowmajor

TARGETS = $(FLNAME).out
OBJ = $(FLNAME).c

FC       = gfortran
CC       = gcc
CC_FLAGS   = -Wall
LAST_FLAGS = -lgfortran -lm -lrt

#OPTS    = -O2 -frecursive
#NOOPT   = -O0 -frecursive

#CBLAS_FLAGS	 = -I../lib-lapack/include -L../lib-lapack/lib -lcblas -lblas
#COMMON_INC  =  -I./ ./lapacke_example_aux.c

F2CLIB      = ../lib-clapack/lib/libf2c.a
BLASLIB      = ../lib-clapack/lib/blas.a
LAPACKLIB    = ../lib-clapack/lib/clapack.a

LIBRARIES = -I../lib-clapack/include \
		$(LAPACKLIB) $(BLASLIB) $(F2CLIB)

# $(LAPACKELIB) $(LAPACKLIB) $(CBLASLIB) $(BLASLIB)

all : $(TARGETS)
	@echo Make Complete

$(TARGETS) : $(OBJ)
	$(CC) $(CC_FLAGS) $(OBJ) $(COMMON_INC) $(LIBRARIES) -o $(TARGETS) $(LAST_FLAGS)

run :
	./$(TARGETS)

clean :
	rm -rf *.out *~ *.o $(TARGETS)
